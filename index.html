<!DOCTYPE html>
<html lang="it" data-theme="auto">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Minuto Politico">
<meta name="theme-color" content="#ffffff">
<title>Minuto Politico</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" sizes="512x512" href="data:image/png;base64,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">
<link rel="apple-touch-icon" sizes="180x180" href="data:image/png;base64,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">
<style>
/* ═══════════════════════════════
   TOKENS
═══════════════════════════════ */
:root{
  --it:#b83232; --eu:#1b4f72; --usa:#c45f00;
  --serif:'Lora',Georgia,serif;
  --sans:'DM Sans',system-ui,sans-serif;
  --r:10px; --r-sm:6px; --r-xs:4px;
}

/* LIGHT */
[data-theme="light"],[data-theme="auto"]{
  --bg:#f7f5f0; --bg2:#edeae2; --surf:#fff;
  --bord:#ddd8cf; --bord2:#c9c2b5;
  --txt:#17140e; --txt2:#4a4338; --muted:#8e877c;
  --hbg:rgba(247,245,240,.97);
  --tit:#f8eded; --teu:#e5eef7; --tusa:#fdeee0;
  --sh:0 1px 4px rgba(0,0,0,.07); --sh2:0 6px 28px rgba(0,0,0,.11);
  --tb-bg:#f0ece3; --tb-c:#7a7060;
}
@media(prefers-color-scheme:dark){[data-theme="auto"]{
  --bg:#0f0e09; --bg2:#171510; --surf:#1b1914;
  --bord:#2a271f; --bord2:#383429;
  --txt:#e3dbc9; --txt2:#9c9378; --muted:#5c5547;
  --hbg:rgba(15,14,9,.97);
  --tit:rgba(184,50,50,.15); --teu:rgba(27,79,114,.18); --tusa:rgba(196,95,0,.18);
  --sh:0 1px 4px rgba(0,0,0,.3); --sh2:0 6px 28px rgba(0,0,0,.5);
  --tb-bg:rgba(255,255,255,.05); --tb-c:#6a6050;
}}
[data-theme="dark"]{
  --bg:#0f0e09; --bg2:#171510; --surf:#1b1914;
  --bord:#2a271f; --bord2:#383429;
  --txt:#e3dbc9; --txt2:#9c9378; --muted:#5c5547;
  --hbg:rgba(15,14,9,.97);
  --tit:rgba(184,50,50,.15); --teu:rgba(27,79,114,.18); --tusa:rgba(196,95,0,.18);
  --sh:0 1px 4px rgba(0,0,0,.3); --sh2:0 6px 28px rgba(0,0,0,.5);
  --tb-bg:rgba(255,255,255,.05); --tb-c:#6a6050;
}

/* ═══════════════════════════════
   RESET
═══════════════════════════════ */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html{
  -webkit-text-size-adjust:100%;
  overflow-x:hidden;
  width:100%;
  max-width:100%;
  touch-action:pan-y;
}
body{
  background:var(--bg);color:var(--txt);
  font-family:var(--serif);line-height:1.6;min-height:100vh;
  transition:background .25s,color .25s;
  overflow-x:hidden;
  width:100%;
  max-width:100%;
  position:relative;
  touch-action:pan-y;
}
/* Wrapper principale — isola overflow senza conflitti con sticky */
#page-wrap{
  width:100%;
  max-width:100vw;
  overflow-x:hidden;
  position:relative;
}

/* ═══════════════════════════════
   HEADER
═══════════════════════════════ */
header{
  background:var(--hbg);border-bottom:1px solid var(--bord);
  position:sticky;top:0;z-index:100;
  backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);
  width:100%;max-width:100%;overflow:hidden;
  left:0;right:0;
}
.hw{max-width:1200px;margin:0 auto;padding:0 1.25rem;overflow:hidden;box-sizing:border-box}

.h-top{
  display:flex;align-items:center;justify-content:space-between;
  gap:.6rem;padding:.6rem 0;border-bottom:1px solid var(--bord);
}

.brand{
  font-family:var(--sans);font-weight:700;
  font-size:clamp(1.2rem,4.2vw,1.75rem);
  letter-spacing:-.035em;line-height:1;
  color:var(--txt);white-space:nowrap;user-select:none;
}
.brand .dot{color:var(--it)}

.hc{display:flex;align-items:center;gap:.45rem;flex-shrink:0}

/* Status */
.sdot{width:6px;height:6px;border-radius:50%;background:var(--it);animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
#stxt{font-family:var(--sans);font-size:.63rem;color:var(--muted)}

/* Theme toggle — SVG minimal */
.tgl{
  display:flex;background:var(--bg2);border:1px solid var(--bord);
  border-radius:20px;padding:2px;gap:1px;
}
.tb{
  background:none;border:none;cursor:pointer;
  padding:.25rem .42rem;border-radius:18px;
  color:var(--muted);transition:all .15s;
  line-height:0;display:flex;align-items:center;justify-content:center;
}
.tb svg{width:13px;height:13px;stroke:currentColor;fill:none;stroke-width:1.7;stroke-linecap:round;stroke-linejoin:round}
.tb.active{background:var(--surf);color:var(--txt);box-shadow:var(--sh)}
.tb:hover:not(.active){color:var(--txt2)}

/* Refresh btn */
.rbtn{
  font-family:var(--sans);font-size:.69rem;font-weight:600;letter-spacing:.015em;
  background:var(--it);color:#fff;border:none;
  padding:.38rem .8rem;border-radius:20px;
  cursor:pointer;transition:opacity .2s;
  display:flex;align-items:center;gap:.3rem;white-space:nowrap;
}
.rbtn:hover{opacity:.85}
.rbtn:disabled{opacity:.35;cursor:not-allowed}
.ri{display:inline-block}
.rbtn.loading .ri{animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* TABS */
.tabs{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch}
.tabs::-webkit-scrollbar{display:none}
.tab{
  font-family:var(--sans);font-size:.85rem;font-weight:500;
  letter-spacing:.01em;
  padding:.65rem 1rem .6rem;border:none;background:none;
  color:var(--muted);cursor:pointer;
  border-bottom:2px solid transparent;
  transition:all .15s;white-space:nowrap;flex-shrink:0;
  display:flex;align-items:center;gap:.4rem;
}

.tab:hover{color:var(--txt2)}
.tab.active             {color:var(--txt); border-bottom-color:var(--txt)}
.tab[data-cat="it"].active {color:var(--it);  border-bottom-color:var(--it)}
.tab[data-cat="eu"].active {color:var(--eu);  border-bottom-color:var(--eu)}
.tab[data-cat="usa"].active{color:var(--usa); border-bottom-color:var(--usa)}

/* ═══════════════════════════════
   MAIN
═══════════════════════════════ */
main{max-width:1200px;margin:0 auto;padding:1.2rem 1.25rem;overflow-x:hidden}

/* Loading */
#loading{
  display:flex;flex-direction:column;align-items:center;
  justify-content:center;min-height:55vh;gap:1.4rem;text-align:center;
}
.ll{
  font-family:var(--sans);font-size:clamp(1.8rem,6vw,2.8rem);
  font-weight:700;letter-spacing:-.04em;
  color:var(--bord2);animation:lp 1.6s ease infinite;
}
.ll .dot{color:var(--it);opacity:.4}
@keyframes lp{0%,100%{opacity:.2}50%{opacity:.7}}
.pb{width:130px;height:2px;background:var(--bord);overflow:hidden;border-radius:2px}
.pf{height:100%;background:var(--it);animation:pfx 1.4s ease infinite}
@keyframes pfx{0%{width:0;opacity:1}80%{width:100%;opacity:1}100%{width:100%;opacity:0}}
.lm{font-family:var(--sans);font-size:.73rem;color:var(--muted)}

/* Error */
#error{
  display:none;flex-direction:column;align-items:center;
  justify-content:center;min-height:50vh;
  gap:1rem;text-align:center;padding:2rem;
}
.etitle{font-family:var(--sans);font-size:1.15rem;font-weight:700}
.emsg{font-family:var(--sans);font-size:.8rem;color:var(--muted);max-width:320px;line-height:1.75}
.btn-retry{
  font-family:var(--sans);font-size:.7rem;font-weight:600;
  background:var(--it);color:#fff;border:none;
  padding:.5rem 1.25rem;border-radius:20px;cursor:pointer;margin-top:.5rem;
}

#content{display:none;width:100%;box-sizing:border-box}

/* ═══════════════════════════════
   SECTION HEADER — single gray line, title pill only
═══════════════════════════════ */
.shd{
  display:flex;align-items:center;gap:.65rem;
  margin-bottom:1rem;margin-top:2.2rem;
  max-width:100%;overflow:hidden;
}
.shd:first-child{margin-top:0}

.shd-label{ display:inline-flex;align-items:center;flex-shrink:0; }

/* Titolo cerchiato, grassetto, leggermente più grande */
.stitle{
  font-family:var(--sans);font-size:.95rem;font-weight:700;
  letter-spacing:-.01em;color:var(--txt);line-height:1;
  border:1.5px solid var(--bord2);
  border-radius:20px;
  padding:.22rem .72rem;
}

/* La linea grigia unica */
.shd-line{flex:1;height:1px;background:var(--bord)}

/* Source badge */
.sbadge{
  display:inline-block;font-family:var(--sans);
  font-size:.59rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;
  padding:.11rem .42rem;border-radius:var(--r-sm);margin-bottom:.45rem;
}
.sbadge.it {background:var(--tit); color:var(--it)}
.sbadge.eu {background:var(--teu); color:var(--eu)}
.sbadge.usa{background:var(--tusa);color:var(--usa)}

/* Translation badge */
.tbadge{
  display:inline-block;font-family:var(--sans);font-size:.55rem;font-weight:500;
  letter-spacing:.04em;text-transform:uppercase;
  padding:.09rem .36rem;border-radius:var(--r-sm);
  background:var(--tb-bg);color:var(--tb-c);vertical-align:middle;margin-left:.25rem;
}

/* ═══════════════════════════════
   HERO CARD
═══════════════════════════════ */
.hero{
  background:var(--surf);border:1px solid var(--bord);
  border-radius:var(--r) var(--r) 0 0;
  padding:1.2rem;margin-bottom:0;
  border-bottom:1px solid var(--bord);
  cursor:pointer;box-shadow:var(--sh);
  transition:box-shadow .2s,border-color .2s;
  animation:fu .4s ease both;
  box-sizing:border-box;
  max-width:100%;
}
@media(max-width:580px){
  .hero{padding:1rem}
}
.hero:hover{box-shadow:var(--sh2);border-color:var(--bord2)}
.hero-title{
  font-family:var(--serif);font-size:clamp(1.05rem,2.8vw,1.5rem);
  font-weight:700;line-height:1.24;letter-spacing:-.02em;
  margin-bottom:.5rem;color:var(--txt);transition:color .15s;
  overflow-wrap:break-word;word-break:break-word;
}
.hero:hover    .hero-title{color:var(--it)}
.hero.eu:hover  .hero-title{color:var(--eu)}
.hero.usa:hover .hero-title{color:var(--usa)}
.hero-sum{
  font-family:var(--sans);font-size:.86rem;font-weight:300;
  line-height:1.75;color:var(--txt2);margin-bottom:.75rem;
}
.cfoot{
  font-family:var(--sans);font-size:.62rem;color:var(--muted);
  display:flex;gap:.6rem;flex-wrap:wrap;align-items:center;
}
.cfoot .src{color:var(--txt2);font-weight:600}
.sep{color:var(--bord2)}
@keyframes fu{from{opacity:0}to{opacity:1}}

/* ═══════════════════════════════
   BLOCK GRID
   Desktop: 4 col | Tablet: 3 | Mobile: 2
═══════════════════════════════ */
.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:1px;background:var(--bord);
  border:1px solid var(--bord);border-top:none;
  border-radius:0 0 var(--r) var(--r);overflow:hidden;
  margin-bottom:.8rem;
  width:100%;max-width:100%;
  box-sizing:border-box;
}
/* Griglia adattiva: se ci sono meno di 4 notizie non lascia celle vuote */
.grid:has(.ncard:nth-child(1):last-child){grid-template-columns:1fr}
.grid:has(.ncard:nth-child(2):last-child){grid-template-columns:repeat(2,1fr)}
.grid:has(.ncard:nth-child(3):last-child){grid-template-columns:repeat(3,1fr)}
@media(max-width:1024px){.grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:860px){.grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:580px){
  /* Su mobile: SEMPRE 2 colonne, override del dynamic cols inline */
  .grid{grid-template-columns:repeat(2,1fr) !important;width:100%}
}

.ncard{
  background:var(--surf);padding:.85rem;
  cursor:pointer;transition:background .15s;
  animation:fu .4s ease both;
  display:flex;flex-direction:column;
  min-width:0;overflow:hidden;
}
.ncard:hover{background:var(--bg2)}
.ncard:hover .ct{color:var(--it)}
.ncard.eu:hover  .ct{color:var(--eu)}
.ncard.usa:hover .ct{color:var(--usa)}

/* Su touch: niente highlight durante scroll */
@media(hover:none){
  .ncard:hover,.ncard:active{background:var(--surf) !important}
  .ncard:hover .ct,.ncard:active .ct{color:var(--txt) !important}
  .hero:hover,.hero:active{box-shadow:var(--sh) !important;border-color:var(--bord) !important}
  .hero:hover .hero-title,.hero:active .hero-title{color:var(--txt) !important}
  * { -webkit-tap-highlight-color: transparent; }
}

.ct{
  font-family:var(--serif);font-size:.86rem;font-weight:700;
  line-height:1.35;margin:.36rem 0 .42rem;
  color:var(--txt);transition:color .15s;flex:1;
  overflow-wrap:break-word;word-break:break-word;
}
.ce{
  font-family:var(--sans);font-size:.72rem;font-weight:300;
  color:var(--txt2);line-height:1.55;margin-bottom:.55rem;
  display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;
}
@media(max-width:580px){.ce{-webkit-line-clamp:2}}
.cmeta{
  font-family:var(--sans);font-size:.6rem;color:var(--muted);
  display:flex;gap:.5rem;flex-wrap:wrap;align-items:center;margin-top:auto;
}
.cmeta .src{color:var(--txt2);font-weight:600}

/* source chips hidden — replaced by section label */
.srcrow{display:none}
.schip{display:none}

/* ═══════════════════════════════
   FOOTER
═══════════════════════════════ */
.footer{
  font-family:var(--sans);font-size:.62rem;color:var(--muted);
  text-align:center;padding:1.6rem 0 1rem;
  border-top:1px solid var(--bord);margin-top:2rem;line-height:2.2;
  word-break:break-word;overflow-wrap:anywhere;
}
.footer a{color:var(--it);cursor:pointer;text-decoration:none}
.footer a:hover{text-decoration:underline}

/* ═══════════════════════════════
   MODAL — drawer su mobile,
   centered su desktop
═══════════════════════════════ */
.mov{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.52);z-index:200;
  align-items:flex-end;justify-content:center;
  overflow:hidden;
}
@media(min-width:640px){.mov{align-items:center;padding:1.5rem}}
.mov.open{display:flex}

.mbox{
  background:var(--surf);border-radius:14px 14px 0 0;width:100%;
  max-width:100vw;box-sizing:border-box;
  max-height:92vh;overflow-y:auto;
  padding:1.4rem 1.3rem 3rem;position:relative;
  border-top:3px solid var(--it);animation:slideUp .3s cubic-bezier(.34,1.26,.64,1);
}
.mbox.eu {border-top-color:var(--eu)}
.mbox.usa{border-top-color:var(--usa)}
@media(min-width:640px){
  .mbox{
    max-width:660px;border-radius:var(--r);
    padding:1.8rem 2rem 2.3rem;animation:fu .25s ease;
  }
}
@keyframes slideUp{from{transform:translateY(100%)}to{transform:translateY(0)}}

.mcls{
  position:absolute;top:.9rem;right:.9rem;
  background:var(--bg2);border:1px solid var(--bord);border-radius:50%;
  width:28px;height:28px;display:flex;align-items:center;justify-content:center;
  font-size:.82rem;color:var(--muted);cursor:pointer;
  font-family:var(--sans);transition:color .15s;
}
.mcls:hover{color:var(--txt)}

.mtitle{
  font-family:var(--serif);font-size:clamp(1.05rem,3.5vw,1.45rem);
  font-weight:700;line-height:1.28;letter-spacing:-.02em;margin:.6rem 0 .55rem;
}
.mmeta{
  font-family:var(--sans);font-size:.67rem;color:var(--muted);
  margin-bottom:.95rem;padding-bottom:.95rem;border-bottom:1px solid var(--bord);
  display:flex;gap:.6rem;flex-wrap:wrap;align-items:center;
}
.mmeta strong{color:var(--txt2)}
.mfull{font-family:var(--sans);font-size:.86rem;font-weight:300;line-height:1.82;color:var(--txt2)}
.mfull p{margin-bottom:.8rem}
.mtrans-note{
  margin-top:.6rem;font-size:.74rem;color:var(--muted);
  padding:.6rem .8rem;background:var(--tb-bg);border-radius:var(--r-sm);
  border-left:2px solid var(--bord2);line-height:1.6;
}
.mlink{
  display:inline-flex;align-items:center;gap:.3rem;
  margin-top:1.1rem;font-family:var(--sans);font-size:.71rem;font-weight:600;
  color:var(--it);text-decoration:none;
  border:1px solid currentColor;padding:.38rem .82rem;border-radius:20px;
  transition:opacity .15s;
}
.mlink:hover{opacity:.8}
.mlink.eu {color:var(--eu)}
.mlink.usa{color:var(--usa)}

/* ═══════════════════════════════
   RESPONSIVE
═══════════════════════════════ */
@media(max-width:580px){
  main{padding:.9rem .9rem}
  .hw{padding:0 .9rem}
  .hero{padding:1rem}
  .shd{margin-top:1.6rem}
  #stxt,.sdot{display:none}
  .rl{display:none}
  .rbtn{padding:.36rem .6rem}
}
@media(max-width:360px){
  .brand{font-size:1.05rem}
  .tab{font-size:.75rem;padding:.58rem .7rem .54rem}
}
</style>
</head>
<body>
<header>
  <div class="hw">
    <div class="h-top">
      <div class="brand">Minuto<span class="dot">.</span>Politico</div>
      <div class="hc">
        <span class="sdot"></span>
        <span id="stxt">—</span>

        <!-- Theme toggle SVG -->
        <div class="tgl" role="group" aria-label="Tema">
          <button class="tb" data-t="light" onclick="setTheme('light')" title="Chiaro">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><line x1="12" y1="2" x2="12" y2="5"/><line x1="12" y1="19" x2="12" y2="22"/><line x1="4.22" y1="4.22" x2="6.34" y2="6.34"/><line x1="17.66" y1="17.66" x2="19.78" y2="19.78"/><line x1="2" y1="12" x2="5" y2="12"/><line x1="19" y1="12" x2="22" y2="12"/><line x1="4.22" y1="19.78" x2="6.34" y2="17.66"/><line x1="17.66" y1="6.34" x2="19.78" y2="4.22"/></svg>
          </button>
          <button class="tb active" data-t="auto" onclick="setTheme('auto')" title="Auto">
            <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 0 1 0 18V3z" fill="currentColor" stroke="none"/><circle cx="12" cy="12" r="9"/></svg>
          </button>
          <button class="tb" data-t="dark" onclick="setTheme('dark')" title="Scuro">
            <svg viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          </button>
        </div>

        <button class="rbtn" id="rbtn" onclick="refresh()" disabled>
          <span class="ri">↻</span><span class="rl">Aggiorna</span>
        </button>
      </div>
    </div>

    <!-- TABS WITH SVG ICONS -->
    <nav class="tabs" role="tablist">
      <!-- Globe (Tutto) -->
      <button class="tab active" data-cat="all" onclick="setTab(this)">
        <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
        Tutto
      </button>
        <button class="tab" data-cat="it"  onclick="setTab(this)">Italia</button>
      <button class="tab" data-cat="eu"  onclick="setTab(this)">Europa</button>
      <button class="tab" data-cat="usa" onclick="setTab(this)">USA</button>
    </nav>
  </div>
</header>
<div id="page-wrap">
<main>
  <div id="loading">
    <div class="ll">Minuto<span class="dot">.</span>Politico</div>
    <div class="pb"><div class="pf"></div></div>
    <div class="lm" id="lmsg">Caricamento feed…</div>
  </div>
  <div id="error">
    <div class="etitle">Nessuna notizia caricata</div>
    <div class="emsg">
      Impossibile raggiungere i feed RSS. Se apri il file localmente (file://)
      il browser blocca le richieste di rete.<br><br>
      <strong>Soluzione gratuita:</strong> trascina il file su <strong>netlify.com/drop</strong>.
    </div>
    <button class="btn-retry" onclick="loadAll()">↻ Riprova</button>
  </div>
  <div id="content"></div>
</main>
</div><!-- #page-wrap -->

<!-- MODAL -->
<div class="mov" id="modal" onclick="if(event.target===this)closeM()">
  <div class="mbox" id="mbox">
    <button class="mcls" onclick="closeM()" aria-label="Chiudi">✕</button>
    <div id="mtag"></div>
    <div class="mtitle" id="mtitle"></div>
    <div class="mmeta"  id="mmeta"></div>
    <div class="mfull"  id="mfull"></div>
    <a class="mlink" id="mlink" href="#" target="_blank" rel="noopener">Leggi l'originale →</a>
  </div>
</div>

<script>
/* ═══════════════════════════════════════════
   FEED CONFIG
═══════════════════════════════════════════ */
/* Ogni fonte ha urls[] — vengono provati tutti in parallelo.
   URL alternativi aumentano drasticamente la probabilità di successo. */
const FEEDS = {
  it: [
    { name:'ANSA', lang:'it', urls:[
        'https://www.ansa.it/sito/notizie/politica/politica_rss.xml',
        'https://www.ansa.it/sito/notizie/politica/governo/governo_rss.xml',
    ]},
    { name:'Corriere', lang:'it', urls:[
        'https://www.corriere.it/dynamic-feed/rss/section/politica/',
        'https://www.corriere.it/dynamic-feed/rss/section/cronache/',
    ]},
    { name:'Repubblica', lang:'it', urls:[
        'https://www.repubblica.it/rss/politica/rss2.0.xml',
        'https://www.repubblica.it/rss/homepage/rss2.0.xml',
    ]},
    { name:'Il Post', lang:'it', urls:[
        'https://www.ilpost.it/politica/feed/',
        'https://www.ilpost.it/feed/',
    ]},
    { name:'Il Sole 24 Ore', lang:'it', urls:[
        'https://www.ilsole24ore.com/rss/politica--italia.xml',
        'https://www.ilsole24ore.com/rss/notizie.xml',
        'https://www.ilsole24ore.com/rss/italia.xml',
    ]},
    { name:'La Stampa', lang:'it', urls:[
        'https://www.lastampa.it/rss/politica.xml',
        'https://www.lastampa.it/rss/home.xml',
        'https://www.lastampa.it/rss/italia.xml',
    ]},
    { name:'Il Fatto', lang:'it', urls:[
        'https://www.ilfattoquotidiano.it/category/politica/feed/',
        'https://www.ilfattoquotidiano.it/feed/',
        'https://www.ilfattoquotidiano.it/in-edicola/feed/',
    ]},
    { name:'Il Foglio', lang:'it', urls:[
        'https://www.ilfoglio.it/rss/politica/',
        'https://www.ilfoglio.it/rss/',
    ]},
    { name:'HuffPost IT', lang:'it', urls:[
        'https://www.huffingtonpost.it/feeds/index.xml',
        'https://www.huffingtonpost.it/rss/',
    ]},
    { name:'Open', lang:'it', urls:[
        'https://www.open.online/category/politica/feed/',
        'https://www.open.online/feed/',
    ]},
  ],
  eu: [
    { name:'Euractiv', lang:'en', urls:[
        'https://www.euractiv.com/sections/eu-politics/feed/',
        'https://www.euractiv.com/feed/',
    ]},
    { name:'Politico EU', lang:'en', urls:[
        'https://www.politico.eu/feed/',
        'https://www.politico.eu/rss/eu-confidential/',
    ]},
    { name:'EUobserver', lang:'en', urls:[
        'https://euobserver.com/rss.xml',
        'https://euobserver.com/toc/rss.xml',
    ]},
    { name:'Il Post Europa', lang:'it', urls:[
        'https://www.ilpost.it/tag/europa/feed/',
        'https://www.ilpost.it/esteri/feed/',
    ]},
    { name:'ANSA Europa', lang:'it', urls:[
        'https://www.ansa.it/sito/notizie/mondo/europa/europa_rss.xml',
        'https://www.ansa.it/europa/notizie/rss.xml',
    ]},
    { name:'Rep. Esteri', lang:'it', urls:[
        'https://www.repubblica.it/rss/esteri/rss2.0.xml',
        'https://www.repubblica.it/rss/homepage/rss2.0.xml',
    ]},
    { name:'Corriere Esteri', lang:'it', urls:[
        'https://www.corriere.it/dynamic-feed/rss/section/esteri/',
        'https://www.corriere.it/dynamic-feed/rss/section/politica/',
    ]},
    { name:'La Stampa Mondo', lang:'it', urls:[
        'https://www.lastampa.it/rss/esteri.xml',
        'https://www.lastampa.it/rss/home.xml',
    ]},
    { name:'Il Sole Mondo', lang:'it', urls:[
        'https://www.ilsole24ore.com/rss/mondo.xml',
    ]},
  ],
  usa: [
    { name:'Politico', lang:'en', urls:[
        'https://www.politico.com/rss/politics08.xml',
        'https://www.politico.com/rss/politicopicks.xml',
    ]},
    { name:'NPR Politics', lang:'en', urls:[
        'https://feeds.npr.org/1014/rss.xml',
        'https://feeds.npr.org/1001/rss.xml',
    ]},
    { name:'AP Politics', lang:'en', urls:[
        'https://feeds.apnews.com/rss/apf-politics',
        'https://feeds.apnews.com/rss/apf-topnews',
    ]},
    { name:'The Hill', lang:'en', urls:[
        'https://thehill.com/rss/syndicator/19109',
        'https://thehill.com/news/feed/',
    ]},
    { name:'Semafor', lang:'en', urls:[
        'https://www.semafor.com/rss/politics.xml',
        'https://www.semafor.com/rss.xml',
    ]},
    { name:'NY Times', lang:'en', urls:[
        'https://rss.nytimes.com/services/xml/rss/nyt/Politics.xml',
        'https://rss.nytimes.com/services/xml/rss/nyt/US.xml',
    ]},
    { name:'Il Post USA', lang:'it', urls:[
        'https://www.ilpost.it/tag/stati-uniti/feed/',
    ]},
    { name:'ANSA Americhe', lang:'it', urls:[
        'https://www.ansa.it/sito/notizie/mondo/americhe/americhe_rss.xml',
    ]},
    { name:'Rep. USA', lang:'it', urls:[
        'https://www.repubblica.it/rss/esteri/rss2.0.xml',
    ]},
  ]
};

const PER_SOURCE = 4;  /* 4 per fonte → round-robin dà varietà + fill-up se feed scarsi */
const HOME_GRID  = 8;
const SEC_GRID   = 25;  /* 25 card nella scheda singola (hero + 24 grid) */
const CACHE_KEY  = 'mp_v11';
const CACHE_TTL  = 15 * 60 * 1000;

/* ── 3 proxy in cascata — il primo che risponde vince ──
   Questo risolve i blocchi CORS su file:// e i fallimenti di singoli proxy */
const PROXIES = [
  url => `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(url)}`,
  url => `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`,
  url => `https://corsproxy.io/?${encodeURIComponent(url)}`,
];

/* Traduzione MyMemory */
const tCache = {};
async function translateToIt(text, lang){
  if(!text || lang==='it') return {t:text, done:false};
  const key = lang+'|'+text.slice(0,80);
  if(tCache[key]) return tCache[key];
  try{
    const r = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text.slice(0,480))}&langpair=${lang}|it`);
    const d = await r.json();
    if(d.responseStatus===200 && d.responseData.translatedText){
      const res={t:d.responseData.translatedText, done:true};
      tCache[key]=res; return res;
    }
  }catch{}
  return {t:text, done:false};
}

let news   = {it:[], eu:[], usa:[], ts:0};
let curTab = 'all';

function initTheme(){ applyTheme(localStorage.getItem('mp_theme')||'auto') }
function setTheme(t){ applyTheme(t); localStorage.setItem('mp_theme',t) }
function applyTheme(t){
  document.documentElement.setAttribute('data-theme',t);
  document.querySelectorAll('.tb').forEach(b=>b.classList.toggle('active',b.dataset.t===t));
}

window.onload=()=>{ initTheme(); const c=getCache(); if(c){news=c;render()}else loadAll(); };

/* ── Fetch con proxy paralleli — il più veloce vince ── */
async function fetchWithProxy(feedUrl){
  /* Tenta tutti i proxy in parallelo, prende il primo che risponde OK */
  const attempts = PROXIES.map(async makeUrl => {
    const r = await fetch(makeUrl(feedUrl), {signal: AbortSignal.timeout(5000)});
    if(!r.ok) throw new Error('not ok');
    const text = await r.text();
    if(!text || text.length < 50) throw new Error('empty');
    if(text.trim().startsWith('{')){
      const d = JSON.parse(text);
      if(d.contents){ const items=parseRSS(d.contents); if(items.length) return items; throw new Error('empty xml'); }
      if(d.items?.length)    return d.items;
      if(d.status==='ok' && d.items) return d.items;
      throw new Error('no items');
    }
    const items = parseRSS(text);
    if(!items.length) throw new Error('no items xml');
    return items;
  });
  try{
    return await Promise.any(attempts);
  }catch{ return []; }
}

/* Parser XML grezzo per i proxy che restituiscono XML */
function parseRSS(xml){
  try{
    const doc = new DOMParser().parseFromString(xml,'text/xml');
    const items = [...doc.querySelectorAll('item')];
    return items.map(it=>({
      title:       it.querySelector('title')?.textContent||'',
      description: it.querySelector('description')?.textContent||
                   it.querySelector('encoded')?.textContent||'',
      link:        it.querySelector('link')?.textContent||
                   it.querySelector('guid')?.textContent||'#',
      pubDate:     it.querySelector('pubDate')?.textContent||'',
    }));
  }catch{ return [] }
}

async function fetchFeed(feed, cat){
  try{
    /* Prova tutti gli URL alternativi in parallelo — prende il primo che funziona */
    const urls = feed.urls || [feed.url];
    const attempts = urls.map(u => fetchWithProxy(u).then(items => {
      if(!items.length) throw new Error('empty');
      return items;
    }));
    let items = [];
    try{ items = await Promise.any(attempts); }catch{ return []; }
    if(!items.length) return [];
    const slice = items.slice(0, PER_SOURCE);
    const out   = [];
    for(const item of slice){
      const rawT = clean(item.title||'');
      const rawS = clean(item.description||item.content||'').slice(0,350);
      let title=rawT, summary=rawS+'…', translated=false;
      if(feed.lang!=='it'){
        const[rt,rs]=await Promise.all([translateToIt(rawT,feed.lang),translateToIt(rawS,feed.lang)]);
        title=rt.t; summary=rs.t.trimEnd()+'…'; translated=rt.done;
      }
      out.push({cat, source:feed.name, lang:feed.lang,
        title, summary, link:item.link||'#',
        pubDate:item.pubDate||'', time:timeAgo(item.pubDate), translated});
    }
    return out;
  }catch{ return [] }
}

async function loadAll(){
  showS('loading');
  const btn=document.getElementById('rbtn');
  btn.disabled=true; btn.classList.add('loading');
  const labels={it:'Italia',eu:'Europa',usa:'USA'};
  const groups={it:[],eu:[],usa:[]};

  /* Fetch TUTTI i feed di tutte le categorie in parallelo —
     non aspettiamo categoria per categoria */
  setLMsg('Carico tutte le fonti…');

  const allEntries = Object.entries(FEEDS).flatMap(([cat,feeds]) =>
    shuffle(feeds).map(f => ({f,cat}))
  );

  const settled = await Promise.allSettled(
    allEntries.map(({f,cat}) => fetchFeed(f,cat))
  );

  for(let i=0; i<allEntries.length; i++){
    const {cat} = allEntries[i];
    const items = settled[i].status==='fulfilled' ? settled[i].value : [];
    if(!groups[cat]) groups[cat]=[];
    /* Raggruppa per fonte per il round-robin */
    groups[cat].push(items);
  }

  /* Round-robin per categoria, poi ordina cronologicamente */
  const result = {it:[], eu:[], usa:[]};
  for(const cat of ['it','eu','usa']){
    const mixed = roundRobin(groups[cat]||[]);
    /* Ordina per data decrescente (più recente prima) */
    mixed.sort((a,b) => {
      const ta = a.pubDate ? new Date(a.pubDate).getTime() : 0;
      const tb = b.pubDate ? new Date(b.pubDate).getTime() : 0;
      return tb - ta;
    });
    result[cat] = mixed;
  }

  const tot=Object.values(result).reduce((s,a)=>s+a.length,0);
  if(!tot){ showS('error'); btn.disabled=false; btn.classList.remove('loading'); return; }
  news={...result, ts:Date.now()};
  setCache(news); render();
}

/* Round-robin: garantisce varietà di fonti
   Prima passa: 1 articolo per fonte (massima varietà)
   Seconda+ passa: articoli extra finché non ci sono duplicati */
function roundRobin(arrays){
  const res=[],seen=new Set();
  const qs=arrays.map(a=>[...a]);
  let more=true;
  while(more){
    more=false;
    for(const q of qs){
      while(q.length){
        const item=q.shift();
        const key=item.title.slice(0,55).toLowerCase();
        if(!seen.has(key)){seen.add(key);res.push(item);more=true;break}
      }
    }
  }
  return res;
}

/* Shuffle array — usato per randomizzare l'ordine dei feed ad ogni caricamento
   così le fonti che "vincono" il round-robin cambiano ogni volta */
function shuffle(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function refresh(){ localStorage.removeItem(CACHE_KEY); loadAll(); }

/* ── RENDER ── */
function render(){
  showS('content');
  const btn=document.getElementById('rbtn');
  btn.disabled=false; btn.classList.remove('loading');
  const ago=Math.round((Date.now()-news.ts)/60000);
  document.getElementById('stxt').textContent=ago<1?'adesso':`${ago}m fa`;

  const isAll=curTab==='all';
  const gridMax=isAll?HOME_GRID:SEC_GRID;

  let html='';
  if((isAll||curTab==='it')  && news.it.length)  html+=buildSec(news.it, 'it', 'Italia',       gridMax);
  if((isAll||curTab==='eu')  && news.eu.length)  html+=buildSec(news.eu, 'eu', 'Europa',        gridMax);
  if((isAll||curTab==='usa') && news.usa.length) html+=buildSec(news.usa,'usa','Stati Uniti',   gridMax);

  const d=new Date(news.ts);
  const allSrcs=[...new Set([...FEEDS.it,...FEEDS.eu,...FEEDS.usa].map(f=>f.name))];
  html+=`<div class="footer">
    Aggiornato alle <strong>${d.toLocaleTimeString('it-IT',{hour:'2-digit',minute:'2-digit'})}</strong>
    · Cache 15 min · <a onclick="refresh()">Forza aggiornamento</a><br>
    Fonti: ${allSrcs.join(' · ')}
  </div>`;
  document.getElementById('content').innerHTML=html;
}

function buildSec(items, cat, label, gridMax){
  const hero = items[0];
  /* Prendi esattamente HOME_GRID card — se non ci sono abbastanza notizie
     non generare celle vuote: usa solo quelle disponibili */
  const grid = items.slice(1, gridMax+1);

  let h=`<div class="shd ${cat}">
    <span class="shd-label"><span class="stitle">${label}</span></span>
    <span class="shd-line"></span>
  </div>
  ${heroTpl(hero)}`;

  if(grid.length){
    h+=`<div class="grid">`;
    grid.forEach((n,i)=>h+=cardTpl(n,i));
    h+=`</div>`;
  }
  return h;
}

/* ── TEMPLATES ── */
function tbadge(n){ return n.translated?`<span class="tbadge">trad.</span>`:''; }

function heroTpl(n){
  const e=enc(n);
  return `<div class="hero ${n.cat}" data-enc="${e}">
    <span class="sbadge ${n.cat}">${n.source}</span>${tbadge(n)}
    <div class="hero-title">${n.title}</div>
    <div class="hero-sum">${n.summary}</div>
    <div class="cfoot"><span class="src">${n.source}</span><span class="sep">·</span><span>${n.time}</span></div>
  </div>`;
}
function cardTpl(n,i){
  const e=enc(n);
  return `<div class="ncard ${n.cat}" style="animation-delay:${i*.04}s" data-enc="${e}">
    <span class="sbadge ${n.cat}">${n.source}</span>${tbadge(n)}
    <div class="ct">${n.title}</div>
    <div class="ce">${n.summary}</div>
    <div class="cmeta"><span class="src">${n.source}</span><span class="sep">·</span><span>${n.time}</span></div>
  </div>`;
}

/* ── MODAL ── */
function openM(encoded){
  const n=JSON.parse(decodeURIComponent(escape(atob(encoded))));
  document.getElementById('mbox').className=`mbox ${n.cat}`;
  document.getElementById('mtag').innerHTML=`<span class="sbadge ${n.cat}">${n.source}</span>${n.translated?`<span class="tbadge">tradotto</span>`:''}`;
  document.getElementById('mtitle').textContent=n.title;
  document.getElementById('mmeta').innerHTML=`<strong>${n.source}</strong><span class="sep">·</span>${n.time}`;
  document.getElementById('mlink').href=n.link;
  document.getElementById('mlink').className=`mlink ${n.cat}`;
  const note=n.translated?`<div class="mtrans-note">ℹ Tradotto automaticamente dal ${langLabel(n.lang)}.</div>`:'';
  document.getElementById('mfull').innerHTML=`<p>${n.summary}</p>${note}`;
  document.getElementById('modal').classList.add('open');
  document.body.style.overflow='hidden';
}
function closeM(){
  document.getElementById('modal').classList.remove('open');
  document.body.style.overflow='';
}
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeM();});
function langLabel(l){
  return {en:'inglese',de:'tedesco',fr:'francese',es:'spagnolo',pt:'portoghese',nl:'olandese',pl:'polacco'}[l]||l;
}

/* ── TABS ── */
function setTab(btn){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active'); curTab=btn.dataset.cat;
  if(news.ts) render();
}

/* ── STATE ── */
function showS(s){
  document.getElementById('loading').style.display=s==='loading'?'flex':'none';
  document.getElementById('error').style.display  =s==='error'  ?'flex':'none';
  document.getElementById('content').style.display=s==='content'?'block':'none';
}
function setLMsg(t){document.getElementById('lmsg').textContent=t;}

/* ── UTILS ── */
function clean(s){
  return s.replace(/<[^>]*>/g,'')
    .replace(/&nbsp;/g,' ').replace(/&amp;/g,'&').replace(/&lt;/g,'<')
    .replace(/&gt;/g,'>').replace(/&quot;/g,'"').replace(/&#39;/g,"'")
    .replace(/\[&#8230;\]/g,'…').replace(/\s+/g,' ').trim();
}
function timeAgo(ds){
  if(!ds)return'—';
  const d=(Date.now()-new Date(ds))/1000;
  if(d<60)   return'adesso';
  if(d<3600) return`${Math.round(d/60)}m fa`;
  if(d<86400)return`${Math.round(d/3600)}h fa`;
  return`${Math.round(d/86400)}g fa`;
}
function enc(obj){
  try{return btoa(unescape(encodeURIComponent(JSON.stringify(obj))));}
  catch{return btoa(JSON.stringify(obj));}
}
function setCache(d){try{localStorage.setItem(CACHE_KEY,JSON.stringify(d));}catch{}}
function getCache(){
  try{
    const d=JSON.parse(localStorage.getItem(CACHE_KEY));
    return(!d||Date.now()-d.ts>CACHE_TTL)?null:d;
  }catch{return null;}
}
</script>
<script>
(function(){
  var startX, startY, moved;
  var TAP_THRESHOLD = 10; // px — oltre questa soglia è scroll, non tap

  document.addEventListener('touchstart', function(e){
    startX = e.touches[0].clientX;
    startY = e.touches[0].clientY;
    moved = false;
  }, {passive: true});

  document.addEventListener('touchmove', function(e){
    var dx = Math.abs(e.touches[0].clientX - startX);
    var dy = Math.abs(e.touches[0].clientY - startY);
    if(dx > TAP_THRESHOLD || dy > TAP_THRESHOLD) moved = true;
    // Blocca scroll orizzontale ovunque tranne nei .tabs
    if(!e.cancelable) return;
    var el = e.target;
    while(el && el !== document.body){
      if(el.classList && el.classList.contains('tabs')) return;
      el = el.parentElement;
    }
    if(dx > dy) e.preventDefault();
  }, {passive: false});

  document.addEventListener('touchend', function(e){
    if(moved) return; // era uno scroll, ignora
    // Cerca il target con data-enc (card o hero)
    var el = e.target;
    while(el && el !== document.body){
      if(el.dataset && el.dataset.enc){
        openM(el.dataset.enc);
        return;
      }
      el = el.parentElement;
    }
  }, {passive: true});

  // Mantieni anche click per desktop
  document.addEventListener('click', function(e){
    var el = e.target;
    while(el && el !== document.body){
      if(el.dataset && el.dataset.enc){
        openM(el.dataset.enc);
        return;
      }
      el = el.parentElement;
    }
  });
})();
</script>
</body>
</html>